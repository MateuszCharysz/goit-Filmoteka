!function(){function e(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=r.parcelRequired7c6;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var r=n[e];delete n[e];var o={id:e,exports:{}};return t[e]=o,r.call(o.exports,o,o.exports),o.exports}var c=new Error("Cannot find module '"+e+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(e,r){n[e]=r},r.parcelRequired7c6=o),o.register("hKHmD",(function(e,r){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,r,t){r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t;return e}}));var c={};Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){i.default(e,r,t[r])}))}return e};var a,i=(a=o("hKHmD"))&&a.__esModule?a:{default:a};var u=function(e){var r="https://api.themoviedb.org/3/movie/".concat(e,"?api_key=").concat("64cb7e9375c055230d64b013c4bca79f","&language=en-US");return fetch(r).then((function(e){return e.ok?e.json():(429===e.status?console.error("Error: Too many requests to API."):console.error("Error: Failed to fetch data from API. Status code:",e.status),Promise.reject(new Error(e.status)))})).then((function(e){return e.genres})).catch((function(e){return console.error(e),Promise.reject(new Error("An error occurred while fetching the data."))}))},s=function(r){var t="https://api.themoviedb.org/3/search/movie?api_key=".concat("64cb7e9375c055230d64b013c4bca79f","&query=").concat(r);return fetch(t).then((function(e){return e.ok?e.json():(429===e.status?console.error("Error: Too many requests to API."):console.error("Error: Failed to fetch data from API. Status code:",e.status),Promise.reject(new Error(e.status)))})).then((function(r){var t=r.results.map((function(e){return e.id})).map((function(e){return u(e)}));return Promise.all(t).then((function(t){return r.results.map((function(r,n){return e(c)({},r,{genres:t[n]})}))}))})).catch((function(e){return console.error(e),Promise.reject(new Error("An error occurred while fetching the data."))}))},l=function(){var e=document.getElementById("search").value.trim();s(e).then((function(e){var r=f(e);document.getElementById("main").innerHTML=r})).catch((function(e){console.error("Error:",e)}))};document.getElementById("button").addEventListener("click",l);var f=function(e){return e.map((function(e){var r=e.genres.map((function(e){return e.name})).join(", ");return'<div class="movie-card">\n          <img\n            src="https://image.tmdb.org/t/p/w500/'.concat(e.poster_path,'"\n            alt="').concat(r,'"\n            loading="lazy"\n          />\n          <div class="info">\n            <p class="movie__title">').concat(e.original_title,'</p> <p class="movie__genres">').concat(r,"</p>\n          </div>\n        </div>")})).join("")}}();
//# sourceMappingURL=index.a2add569.js.map
