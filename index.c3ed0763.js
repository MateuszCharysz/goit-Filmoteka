const e=e=>fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=64cb7e9375c055230d64b013c4bca79f&language=en-US`).then((e=>e.ok?e.json():(429===e.status?console.error("Error: Too many requests to API."):console.error("Error: Failed to fetch data from API. Status code:",e.status),Promise.reject(new Error(e.status))))).then((e=>e.genres)).catch((e=>(console.error(e),Promise.reject(new Error("An error occurred while fetching the data."))))),r=r=>fetch(`https://api.themoviedb.org/3/search/movie?api_key=64cb7e9375c055230d64b013c4bca79f&query=${r}`).then((e=>e.ok?e.json():(429===e.status?console.error("Error: Too many requests to API."):console.error("Error: Failed to fetch data from API. Status code:",e.status),Promise.reject(new Error(e.status))))).then((r=>{const t=r.results.map((e=>e.id)).map((r=>e(r)));return Promise.all(t).then((e=>r.results.map(((r,t)=>({...r,genres:e[t]})))))})).catch((e=>(console.error(e),Promise.reject(new Error("An error occurred while fetching the data."))))),t=()=>{const e=document.getElementById("search").value.trim();r(e).then((e=>{const r=o(e);document.getElementById("main").innerHTML=r})).catch((e=>{console.error("Error:",e)}))};document.getElementById("button").addEventListener("click",t);const o=e=>e.map((e=>{const r=e.genres.map((e=>e.name)).join(", ");return`<div class="movie-card">\n          <img\n            src="https://image.tmdb.org/t/p/w500/${e.poster_path}"\n            alt="${r}"\n            loading="lazy"\n          />\n          <div class="info">\n            <p class="movie__title">${e.original_title}</p> <p class="movie__genres">${r}</p>\n          </div>\n        </div>`})).join("");
//# sourceMappingURL=index.c3ed0763.js.map
