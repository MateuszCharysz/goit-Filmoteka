!function(){function e(e,t,n,o){Object.defineProperty(e,t,{get:n,set:o,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},r={},c=n.parcelRequired7c6;null==c&&((c=function(e){if(e in o)return o[e].exports;if(e in r){var t=r[e];delete r[e];var n={id:e,exports:{}};return o[e]=n,t.call(n.exports,n,n.exports),n.exports}var c=new Error("Cannot find module '"+e+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(e,t){r[e]=t},n.parcelRequired7c6=c),c.register("2lCqU",(function(t,n){e(t.exports,"openModal",(function(){return l}));var o=c("7yGKT"),r=c("8gjq0"),a=c("7O0Ht"),i=c("e0akk"),l=function(e){if(e.target.closest(".movie__card")){var t=document.createElement("div");t.classList.add("backdrop");var n=e.target.closest(".movie__card").getAttribute("data-id");(0,o.fetchMovieById)(n).then((function(e){t.innerHTML=(0,i.renderModal)(e),document.body.appendChild(t);var o=window.scrollY;document.body.style.top="-".concat(o,"px"),document.body.style.position="fixed";var c=document.querySelector("#modal__close"),l=document.getElementById("watched"),s=document.getElementById("queue");l.addEventListener("click",(function(){return(0,r.addToLocalStorage)(n,"watched")})),s.addEventListener("click",(function(){return(0,r.addToLocalStorage)(n,"queue")})),c.addEventListener("click",(function(){l.removeEventListener("click",(function(){return(0,r.addToLocalStorage)(n,"watched")})),s.removeEventListener("click",(0,r.addToLocalStorage)(n,"queue")),document.body.style.position="",document.body.style.top="",window.scrollTo(0,o),(0,a.closeModal)()}))})).catch((function(e){console.error(e)}))}}})),c.register("7yGKT",(function(t,n){e(t.exports,"fetchMovieById",(function(){return o}));var o=function(e){var t="https://api.themoviedb.org/3/movie/".concat(e,"?api_key=").concat("64cb7e9375c055230d64b013c4bca79f");return fetch(t).then((function(e){if(!e.ok)throw 429===e.status?console.error("Error: Too many requests to API."):console.error("Error: Failed to fetch data from API. Status code:",e.status),new Error(e.status);return e.json()})).catch((function(e){throw new Error(e)}))}})),c.register("8gjq0",(function(t,n){e(t.exports,"addToLocalStorage",(function(){return o}));var o=function(e,t){var n=localStorage.getItem("user"),o={};n&&(o=JSON.parse(n)),o[t]||(o[t]=[]),o[t].includes(e)||o[t].push(e),localStorage.setItem("user",JSON.stringify(o))}})),c.register("7O0Ht",(function(t,n){e(t.exports,"closeModal",(function(){return o}));var o=function(){document.querySelector(".backdrop").remove(),document.body.classList.remove("overflow-off")}})),c.register("e0akk",(function(t,n){e(t.exports,"renderModal",(function(){return o}));var o=function(e){var t=e.genres.map((function(e){return e.name})).join(", ");return"\n    <div class='modal'>\n        <button class='modal__button modal__button--close' id='modal__close'>\n        </button>\n        <img class=\"modal__img\" src=\"https://image.tmdb.org/t/p/w500//".concat(e.poster_path,'" />\n        <div class="modal__content">\n            <h2 class="modal__title">').concat(e.original_title,'</h2>\n            <ul class="modal__list">\n                <li class="modal__item">\n                    <p class="modal__item--label">Vote / Votes</p>\n                    <div class="modal__item--vote">\n                        <p class="modal__item--value modal__item--value--vote">\n                            <vote_average>\n                                ').concat(e.vote_average.toFixed(1),"\n                            </vote_average>\n                            /\n                            <vote__count>\n                                ").concat(e.vote_count,'\n                            </vote__count>\n                        </p>\n                    </div>\n                </li>\n                <li class="modal__item">\n                    <p class="modal__item--label">Popularity</p>\n                    <p class="modal__item--value">').concat(e.popularity.toFixed(1),'</p>\n                </li>\n                <li class="modal__item">\n                    <p class="modal__item--label">Original Title</p>\n                    <p class="modal__item--value big">').concat(e.original_title,'</p>\n                </li>\n                <li class="modal__item">\n                    <p class="modal__item--label">Genre</p>\n                    <p class="modal__item--value">').concat(t,'</p>\n                </li>\n            </ul>\n            <div class="modal__overview">\n                <h3 class="modal__overview--about">ABOUT</h3>\n                <p class="modal__overview--overview">').concat(e.overview,'</p>\n            </div>\n        <div class="modal__buttons">\n            <button id="watched" class="modal__button modal__button--watched">Add to watched</button>\n            <button id="queue" class="modal__button modal__button--queue">Add to queue</button>\n        </div>\n    </div>\n    ')}})),c.register("jn5gR",(function(t,n){e(t.exports,"searchMovies",(function(){return a}));var o=c("lfqeF"),r=c("eskXD"),a=function(){var e=document.getElementById("search").value.trim();(0,o.fetchMovies)(e).then((function(e){var t=(0,r.renderList)(e);document.getElementById("main").innerHTML=t,document.querySelectorAll(".movie-card").forEach((function(e){e.addEventListener("click",(function(){console.log(e)}))}))})).catch((function(e){console.error("Error:",e)}))}})),c.register("lfqeF",(function(n,o){e(n.exports,"fetchMovies",(function(){return i}));var r=c("dDDEV"),a=c("iEiy1"),i=function(e){var n="https://api.themoviedb.org/3/search/movie?api_key=".concat("64cb7e9375c055230d64b013c4bca79f","&language=en-US&query=").concat(e,"&page=1&include_adult=false");return fetch(n).then((function(e){return e.ok?e.json():(429===e.status?console.error("Error: Too many requests to API."):console.error("Error: Failed to fetch data from API. Status code:",e.status),Promise.reject(new Error(e.status)))})).then((function(e){var n=e.results.map((function(e){return e.id})).map((function(e){return(0,a.fetchMovieGenres)(e)}));return Promise.all(n).then((function(n){return e.results.map((function(e,o){return t(r)({},e,{genres:n[o]})}))}))})).catch((function(e){return console.error(e),Promise.reject(new Error("An error occurred while fetching the data."))}))}})),c.register("dDDEV",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o.default(e,t,n[t])}))}return e};var n,o=(n=c("hKHmD"))&&n.__esModule?n:{default:n}})),c.register("hKHmD",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}})),c.register("iEiy1",(function(t,n){e(t.exports,"fetchMovieGenres",(function(){return o}));var o=function(e){var t="https://api.themoviedb.org/3/movie/".concat(e,"?api_key=").concat("64cb7e9375c055230d64b013c4bca79f","&language=en-US");return fetch(t).then((function(e){if(!e.ok)throw 429===e.status?console.error("Error: Too many requests to API."):console.error("Error: Failed to fetch data from API. Status code:",e.status),new Error(e.status);return e.json()})).then((function(e){return e.genres})).catch((function(e){throw new Error(e)}))}})),c.register("eskXD",(function(t,n){e(t.exports,"renderList",(function(){return o}));var o=function(e){return e.map((function(e){var t=e.genres.map((function(e){return e.name})).join(", ");return'<div class="movie__card" data-id="'.concat(e.id,'">\n            <img\n              src="https://image.tmdb.org/t/p/w500/').concat(e.poster_path,'"\n              alt="').concat(t,'"\n              loading="lazy"\n            />\n            <div class="info">\n              <p class="movie__title">').concat(e.original_title,'</p> <p class="movie__genres">').concat(t,"</p>\n            </div>\n          </div>")})).join("")}}))}();
//# sourceMappingURL=library.75570419.js.map
