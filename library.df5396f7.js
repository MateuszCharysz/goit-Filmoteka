!function(){var t=function(t,e){var o=localStorage.getItem("user"),n={};o&&(n=JSON.parse(o)),n[e]||(n[e]=[]),n[e].includes(t)||n[e].push(t),localStorage.setItem("user",JSON.stringify(n))},e=function(t){var e=t.genres.map((function(t){return t.name})).join(", ");return"\n    <div class='modal'>\n        <button class='modal__button modal__button--close' id='modal__close'>\n        </button>\n        <img class=\"modal__img\" src=\"https://image.tmdb.org/t/p/w500//".concat(t.poster_path,'" />\n        <div class="modal__content">\n            <h2 class="modal__title">').concat(t.original_title,'</h2>\n            <ul class="modal__list">\n                <li class="modal__item">\n                    <p class="modal__item--label">Vote / Votes</p>\n                    <div class="modal__item--vote">\n                        <p class="modal__item--value modal__item--value--vote">\n                            <vote_average>\n                                ').concat(t.vote_average.toFixed(1),"\n                            </vote_average>\n                            /\n                            <vote__count>\n                                ").concat(t.vote_count,'\n                            </vote__count>\n                        </p>\n                    </div>\n                </li>\n                <li class="modal__item">\n                    <p class="modal__item--label">Popularity</p>\n                    <p class="modal__item--value">').concat(t.popularity.toFixed(1),'</p>\n                </li>\n                <li class="modal__item">\n                    <p class="modal__item--label">Original Title</p>\n                    <p class="modal__item--value big">').concat(t.original_title,'</p>\n                </li>\n                <li class="modal__item">\n                    <p class="modal__item--label">Genre</p>\n                    <p class="modal__item--value">').concat(e,'</p>\n                </li>\n            </ul>\n            <div class="modal__overview">\n                <h3 class="modal__overview--about">ABOUT</h3>\n                <p class="modal__overview--overview">').concat(t.overview,'</p>\n            </div>\n        <div class="modal__buttons">\n            <button id="watched" class="modal__button modal__button--watched">Add to watched</button>\n            <button id="queue" class="modal__button modal__button--queue">Add to queue</button>\n        </div>\n    </div>\n    ')};document.querySelector("#main").addEventListener("click",(function(o){if(o.target.closest(".movie__card")){var n=document.createElement("div");n.classList.add("backdrop");var a,c,l=o.target.closest(".movie__card").getAttribute("data-id");(a=l,c="https://api.themoviedb.org/3/movie/".concat(a,"?api_key=").concat("64cb7e9375c055230d64b013c4bca79f"),fetch(c).then((function(t){if(!t.ok)throw 429===t.status?console.error("Error: Too many requests to API."):console.error("Error: Failed to fetch data from API. Status code:",t.status),new Error(t.status);return t.json()})).catch((function(t){throw new Error(t)}))).then((function(o){n.innerHTML=e(o),document.body.appendChild(n);var a=window.scrollY;document.body.style.top="-".concat(a,"px"),document.body.style.position="fixed";var c=document.querySelector("#modal__close"),i=document.getElementById("watched"),s=document.getElementById("queue");i.addEventListener("click",(function(){return t(l,"watched")})),s.addEventListener("click",(function(){return t(l,"queue")})),c.addEventListener("click",(function(){i.removeEventListener("click",(function(){return t(l,"watched")})),s.removeEventListener("click",t(l,"queue")),document.body.style.position="",document.body.style.top="",window.scrollTo(0,a),document.querySelector(".backdrop").remove(),document.body.classList.remove("overflow-off")}))})).catch((function(t){console.error(t)}))}}))}();
//# sourceMappingURL=library.df5396f7.js.map
